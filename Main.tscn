[gd_scene load_steps=18 format=2]

[ext_resource path="res://player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://scene/weapons/ammo_pickup/ammo.tscn" type="PackedScene" id=2]
[ext_resource path="res://scene/items/RigidBody_hitable.gd" type="Script" id=3]
[ext_resource path="res://scene/utility/health_pickup/health.tscn" type="PackedScene" id=4]
[ext_resource path="res://scene/weapons/armed/pistol/pistol_pickup.tscn" type="PackedScene" id=5]
[ext_resource path="res://scene/items/Target/Target_Whole.tscn" type="PackedScene" id=6]
[ext_resource path="res://scene/items/Turret/Turret.tscn" type="PackedScene" id=7]
[ext_resource path="res://scene/weapons/armed/knife/knife_pickup.tscn" type="PackedScene" id=8]
[ext_resource path="res://scene/weapons/armed/rifle/rifle_pickup.tscn" type="PackedScene" id=9]
[ext_resource path="res://scene/weapons/armed/rocket_launcher/Components/at4_pickup.tscn" type="PackedScene" id=10]
[ext_resource path="res://enemy/enemy.tscn" type="PackedScene" id=11]

[sub_resource type="NavigationMesh" id=12]
vertices = PoolVector3Array( -39, 1.5, -44, -49, 1.5, -44, -49, 1.5, -36, -39, 1.5, -44, -49, 1.5, -36, -49, 1.5, -27, -29, 1.5, -44, -39, 1.5, -44, -49, 1.5, -27, -49, 1.5, -19, -15, 1.5, -16, -7, 1.5, -17, -8, 1.5, -44, -19, 1.5, -44, -15, 1.5, -16, -19, 1.5, -44, -29, 1.5, -44, -49, 1.5, -19, -49, 1.5, -10, -16, 1.5, -9, 7, 1.5, -17, 8, 1.5, -44, 0, 1.5, -44, 0, 1.5, -17, 0, 1.5, -44, -8, 1.5, -44, -7, 1.5, -17, 0, 1.5, -17, 49, 1.5, -37, 49, 1.5, -44, 38, 1.5, -44, 49, 1.5, -29, 49, 1.5, -37, 38, 1.5, -44, 49, 1.5, -22, 49, 1.5, -29, 38, 1.5, -44, 28, 1.5, -44, 8, 1.5, -44, 7, 1.5, -17, 13, 1.5, -17, 18, 1.5, -44, 18, 1.5, -44, 13, 1.5, -17, 14, 1.5, -14, 49, 1.5, -14, 49, 1.5, -22, 28, 1.5, -44, 0, 27, -14, 12, 27, -14, 6, 27, -15, -1, 27, -15, -8, 27, -15, -14, 27, -14, -12, 27, -14, -14, 27, -2, -14, 27, 10, -13, 27, 5, -13, 27, -2, 0, 27, -14, -1, 27, -15, -8, 27, -15, -12, 27, -14, -14, 27, -2, -13, 27, -2, -13, 27, -8, -14, 27, -14, -14, 27, -14, -13, 27, -8, -12, 27, -14, 41, 1.5, 44, 49, 1.5, 44, 49, 1.5, 36, 1, 1.5, -12, -11, 1.5, -12, -11, 1.5, -1, 41, 1.5, 44, 49, 1.5, 36, 49, 1.5, 29, 33, 1.5, 44, 25, 1.5, 44, 49, 1.5, 22, 49, 1.5, 15, 18, 1.5, 44, 1, 1.5, -12, -11, 1.5, -1, -11, 1.5, 11, 13, 1.5, -12, 33, 1.5, 44, 49, 1.5, 29, 49, 1.5, 22, 25, 1.5, 44, -11, 1.5, 11, 2, 1.5, 44, 10, 1.5, 44, -13, 1.5, 12, -13, 1.5, 44, -6, 1.5, 44, -11, 1.5, 11, 10, 1.5, 44, 18, 1.5, 44, 49, 1.5, 15, 49, 1.5, 7, 13, 1.5, -12, -11, 1.5, 11, -13, 1.5, 12, -6, 1.5, 44, 2, 1.5, 44, 49, 1.5, 7, 49, 1.5, 0, 13, 1.5, -12, 49, 1.5, -7, 49, 1.5, -14, 14, 1.5, -14, 49, 1.5, -7, 14, 1.5, -14, 13, 1.5, -12, 49, 1.5, 0, -16, 1.5, -9, -49, 1.5, -10, -49, 1.5, -2, -16, 1.5, -2, -49, 1.5, -2, -49, 1.5, 6, -16, 1.5, 5, -16, 1.5, -2, -49, 1.5, 34, -49, 1.5, 44, -40, 1.5, 44, -49, 1.5, 34, -40, 1.5, 44, -31, 1.5, 44, -49, 1.5, 25, -49, 1.5, 34, -31, 1.5, 44, -22, 1.5, 44, -16, 1.5, 11, -16, 1.5, 5, -49, 1.5, 6, -49, 1.5, 15, -13, 1.5, 44, -13, 1.5, 12, -16, 1.5, 11, -49, 1.5, 15, -49, 1.5, 25, -22, 1.5, 44 )
polygons = [ PoolIntArray( 2, 1, 0 ), PoolIntArray( 5, 4, 3 ), PoolIntArray( 8, 7, 9 ), PoolIntArray( 9, 7, 6 ), PoolIntArray( 11, 10, 12 ), PoolIntArray( 12, 10, 13 ), PoolIntArray( 15, 14, 16 ), PoolIntArray( 16, 14, 19 ), PoolIntArray( 16, 19, 17 ), PoolIntArray( 17, 19, 18 ), PoolIntArray( 23, 22, 20 ), PoolIntArray( 20, 22, 21 ), PoolIntArray( 27, 26, 24 ), PoolIntArray( 24, 26, 25 ), PoolIntArray( 30, 29, 28 ), PoolIntArray( 33, 32, 31 ), PoolIntArray( 35, 34, 36 ), PoolIntArray( 36, 34, 37 ), PoolIntArray( 39, 38, 40 ), PoolIntArray( 40, 38, 41 ), PoolIntArray( 43, 42, 44 ), PoolIntArray( 44, 42, 47 ), PoolIntArray( 44, 47, 46 ), PoolIntArray( 44, 46, 45 ), PoolIntArray( 51, 50, 48 ), PoolIntArray( 48, 50, 49 ), PoolIntArray( 54, 53, 52 ), PoolIntArray( 58, 57, 55 ), PoolIntArray( 55, 57, 56 ), PoolIntArray( 60, 59, 61 ), PoolIntArray( 61, 59, 62 ), PoolIntArray( 64, 63, 65 ), PoolIntArray( 65, 63, 66 ), PoolIntArray( 69, 68, 67 ), PoolIntArray( 72, 71, 70 ), PoolIntArray( 75, 74, 73 ), PoolIntArray( 77, 76, 78 ), PoolIntArray( 78, 76, 79 ), PoolIntArray( 81, 80, 82 ), PoolIntArray( 82, 80, 83 ), PoolIntArray( 85, 84, 86 ), PoolIntArray( 86, 84, 87 ), PoolIntArray( 89, 88, 90 ), PoolIntArray( 90, 88, 91 ), PoolIntArray( 94, 93, 92 ), PoolIntArray( 97, 96, 95 ), PoolIntArray( 99, 98, 100 ), PoolIntArray( 100, 98, 103 ), PoolIntArray( 100, 103, 101 ), PoolIntArray( 101, 103, 102 ), PoolIntArray( 105, 104, 106 ), PoolIntArray( 106, 104, 107 ), PoolIntArray( 110, 109, 108 ), PoolIntArray( 113, 112, 111 ), PoolIntArray( 115, 114, 116 ), PoolIntArray( 116, 114, 117 ), PoolIntArray( 121, 120, 118 ), PoolIntArray( 118, 120, 119 ), PoolIntArray( 125, 124, 122 ), PoolIntArray( 122, 124, 123 ), PoolIntArray( 128, 127, 126 ), PoolIntArray( 131, 130, 129 ), PoolIntArray( 133, 132, 134 ), PoolIntArray( 134, 132, 135 ), PoolIntArray( 137, 136, 138 ), PoolIntArray( 138, 136, 139 ), PoolIntArray( 141, 140, 142 ), PoolIntArray( 142, 140, 145 ), PoolIntArray( 142, 145, 144 ), PoolIntArray( 142, 144, 143 ) ]
cell_size = 1.0
cell_height = 1.5
agent_height = 3.0
agent_radius = 1.0

[sub_resource type="SpatialMaterial" id=11]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="ProceduralSky" id=9]

[sub_resource type="Environment" id=10]
background_mode = 2
background_sky = SubResource( 9 )
ambient_light_color = Color( 1, 1, 1, 1 )
ambient_light_sky_contribution = 0.6
ssao_light_affect = 1.0
glow_intensity = 1.0
glow_strength = 1.11
glow_blend_mode = 0
glow_bicubic_upscale = true

[sub_resource type="BoxShape" id=7]
extents = Vector3( 1, 1.03273, 1.00164 )

[sub_resource type="CubeMesh" id=8]

[node name="Main" type="Node"]

[node name="Level" type="Spatial" parent="."]

[node name="Player" parent="Level" groups=["Player"] instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.88657, 0 )

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Level"]
navmesh = SubResource( 12 )

[node name="CSGCombiner" type="CSGCombiner" parent="Level/NavigationMeshInstance"]
use_collision = true

[node name="CSGBox" type="CSGBox" parent="Level/NavigationMeshInstance/CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0 )
width = 100.0
height = 1.0
depth = 90.0
material = SubResource( 11 )

[node name="CSGBox2" type="CSGBox" parent="Level/NavigationMeshInstance/CSGCombiner"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 12, -14.6509 )
width = 25.0
height = 25.0
material = SubResource( 11 )

[node name="CSGBox3" type="CSGBox" parent="Level/NavigationMeshInstance/CSGCombiner"]
transform = Transform( -4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -13.5182, 12, -1.58127 )
width = 25.0
height = 25.0
material = SubResource( 11 )

[node name="Enemy" parent="Level/NavigationMeshInstance" instance=ExtResource( 11 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.304, 1.238, 23 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="Level"]
environment = SubResource( 10 )

[node name="Target_Whole" parent="Level" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 41.4049, 2.80773, 38.0836 )

[node name="Turret" parent="Level" instance=ExtResource( 7 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 45.0966, 2.80773, 38.0836 )
use_raycast = false

[node name="Pickups" type="Spatial" parent="Level"]

[node name="Knife" parent="Level/Pickups" instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.75918, 2.61589, 0 )
mass = 5.0
gravity_scale = 3.0
ammo_in_mag = 1
extra_ammo = 0

[node name="Pistol" parent="Level/Pickups" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.75918, 1.22175, 0 )
mass = 5.0
gravity_scale = 3.0
ammo_in_mag = 15
extra_ammo = 30

[node name="Rifle" parent="Level/Pickups" instance=ExtResource( 9 )]
transform = Transform( -1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, -5.75918, 1.00098, -3.4642 )
mass = 5.0
gravity_scale = 43.0
extra_ammo = 30

[node name="AT4" parent="Level/Pickups" instance=ExtResource( 10 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -9.37259, 2.67823, 4.70968 )

[node name="Ammo" parent="Level/Pickups" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 36.651, 1.67753, 37.5825 )
ammo = 100

[node name="Health" parent="Level/Pickups" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 34.3259, 1.67753, 37.5825 )
health = 100

[node name="Cubes" type="Spatial" parent="Level"]

[node name="RigidBody" type="RigidBody" parent="Level/Cubes" groups=["Weapon_Reactive"]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.939095, -7.24454 )
mass = 5.0
gravity_scale = 3.0
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Level/Cubes/RigidBody"]
shape = SubResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="Level/Cubes/RigidBody"]
mesh = SubResource( 8 )

[node name="RigidBody2" type="RigidBody" parent="Level/Cubes" groups=["Weapon_Reactive"]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.6763, 0.939095, -7.24454 )
mass = 5.0
gravity_scale = 3.0
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Level/Cubes/RigidBody2"]
shape = SubResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="Level/Cubes/RigidBody2"]
mesh = SubResource( 8 )

[node name="RigidBody3" type="RigidBody" parent="Level/Cubes" groups=["Weapon_Reactive"]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.939095, -3.59118 )
mass = 5.0
gravity_scale = 3.0
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Level/Cubes/RigidBody3"]
shape = SubResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="Level/Cubes/RigidBody3"]
mesh = SubResource( 8 )
skeleton = NodePath("../../RigidBody3")

[node name="RigidBody4" type="RigidBody" parent="Level/Cubes" groups=["Weapon_Reactive"]]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.27798, 0.939095, -3.40211 )
mass = 5.0
gravity_scale = 3.0
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Level/Cubes/RigidBody4"]
shape = SubResource( 7 )

[node name="MeshInstance" type="MeshInstance" parent="Level/Cubes/RigidBody4"]
mesh = SubResource( 8 )
skeleton = NodePath("../../RigidBody4")

[editable path="Level/Player"]
[editable path="Level/Player/CamRoot/Weapons/Rifle"]
